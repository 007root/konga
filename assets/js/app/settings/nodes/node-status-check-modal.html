<div class="modal-header warning">
    <h5 class="modal-title" id="modal-title">
        Status Check
        <a class="modal-close pull-right" ng-click="close()">
            <i class="material-icons">clear</i>
        </a>

    </h5>
</div>
<div class="modal-body">
    <h4 class="no-margin">Connection : {{node.name}}</h4>
</div>

    <div data-ng-show="!node.health_check_details">

        <h5>No information available...</h5>
        <p class="help-block">
            You need to enable health checks for this node
            in order to start getting status information.
        </p>
    </div>
    <div data-ng-show="node.health_check_details" class="table-responsive">
        <table class="table table-striped">
            <tr>
                <th>Health checks</th>
                <td>{{node.health_checks ? 'enabled' : 'disabled'}}</td>
            </tr>
            <tr>
                <th>Last known status</th>
                <td>{{moment(node.health_check_details.lastSucceeded || 0) > moment(node.health_check_details.lastFailed || 0) ? 'healthy' : 'Down or unresponsive'}}</td>
            </tr>
            <tr>
                <th>Last checked</th>
                <th>{{moment(node.health_check_details.lastChecked).fromNow()}}</th>
            </tr>
            <tr>
                <th>Last failed</th>
                <td>{{moment(node.health_check_details.lastFailed).format("dddd, MMMM Do YYYY, HH:mm:ss")}}</td>
            </tr>
            <tr>
                <th>Last notified</th>
                <td>{{moment(node.health_check_details.lastNotified).fromNow()}}</td>
            </tr>
            <tr>
                <th>
                    <span data-ng-if="moment(node.health_check_details.lastSucceeded || 0) > moment(node.health_check_details.lastFailed || 0)">
                        Uptime
                    </span>
                    <span data-ng-if="moment(node.health_check_details.lastSucceeded || 0) <= moment(node.health_check_details.lastFailed || 0)">
                        Downtime
                    </span>
                </th>
                <td>
                    <span data-ng-if="moment(node.health_check_details.lastSucceeded || 0) > moment(node.health_check_details.lastFailed || 0)">
                        {{moment.duration(moment().diff(moment(node.health_check_details.lastSucceeded))).humanize()}}
                    </span>
                    <span data-ng-if="moment(node.health_check_details.lastSucceeded || 0) <= moment(node.health_check_details.lastFailed || 0)">
                        {{moment.duration(moment().diff(moment(node.health_check_details.lastFailed))).humanize()}}
                    </span>
                </td>

            </tr>
        </table>
    </div>
