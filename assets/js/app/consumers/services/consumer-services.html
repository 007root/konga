
<div class="col-md-12 bg-light-grey padding">
    <list-search
            class="pull-right"
            data-filters="filters"
            data-options="itemsPerPageOptions"
            data-items="itemsPerPage"
    ></list-search>
</div>
<!--<div class="col-md-12 padding">-->
    <!--<p>The services this consumer can access based on ACLs.</p>-->
<!--</div>-->
<div class="clearfix"></div>
<konga-loader ng-if="loading && !items.data.length"></konga-loader>
<div class="row" ng-show="!loading || items.data.length">
    <div class="col-md-12">
        <div class="table-responsive" >
            <table class="table table-hover table-striped">
                <tr>
                    <th width="1"></th>
                    <th width="{{item.width}}" class="text-nowrap"
                        data-ng-repeat="item in titleItems | filter:titleFilter"
                    >
                        <a
                                data-ng-show="item.column"
                                class="clickable"
                                data-ng-click="changeSort(item)"
                                data-ng-bind-html="item.title.toUpperCase()"
                        ></a>
                        <span
                                data-ng-show="!item.column"
                                data-ng-bind-html="item.title.toUpperCase()"
                        ></span>

                        <i class="mdi"
                           data-ng-show="sort.column == item.column"
                           data-ng-class="{'mdi-chevron-down': !sort.direction, 'mdi-chevron-up': sort.direction}"
                        ></i>
                    </th>
                    <th width="1" ng-if="user.hasPermission($state.name.split('.')[0],'delete')"></th>
                </tr>
                <tr
                        dir-paginate="service in items.data | orderBy:sort.column:sort.direction | filter : filters.searchWord | itemsPerPage: itemsPerPage as filteredItems">
                    <td>
                        <raw-view data-item="service"></raw-view>
                    </td>
                    <td>
                        <p class="no-margin">
                            <a class="clickable"
                               data-ui-sref="services.edit({service_id:service.id})"><strong>{{ service.name || "-" }}</strong></a>
                        </p>
                        <p ng-if="service.extras && service.extras.description" class="text-small help-block no-margin">{{service.extras.description}}</p>
                    </td>
                    <td>{{ service.host || "-" }}</td>
                    <td>
                        <span class="badge badge-tag badge-success badge-inverse" ng-repeat="tag in service.extras.tags">
                            <i class="mdi mdi-tag"></i>&nbsp;
                            {{tag}}
                        </span>
                    </td>
                    <td>{{service.created_at*1000 | date : format : timezone}}</td>
                    <!--<td>-->
                    <!--<a ui-sref="services.edit({ service_id: service.id })" class="btn btn-default btn-link">-->

                    <!--edit-->
                    <!--</a>-->
                    <!--</td>-->
                    <td ng-if="user.hasPermission($state.name.split('.')[0],'delete')">
                        <button type="button" ng-click="deleteItem($index,service)" class="btn btn-danger btn-link">
                            <i class="mdi mdi-delete"></i>
                            Delete
                        </button>
                    </td>
                </tr>
            </table>
        </div>
        <dir-pagination-controls class="pull-right"></dir-pagination-controls>
    </div>
</div>

<!--<div class="row">-->
    <!--<div class="col-md-12">-->
        <!--<div class="table-responsive">-->
            <!--<table class="table table-hover">-->
                <!--<tr>-->
                    <!--<th width="{{item.width}}" class="text-nowrap"-->
                        <!--data-ng-repeat="item in titleItems | filter:titleFilter"-->
                    <!--&gt;-->
                        <!--<a-->
                                <!--data-ng-show="item.column"-->
                                <!--class="clickable"-->
                                <!--data-ng-click="changeSort(item)"-->
                                <!--data-ng-bind-html="item.title.toUpperCase()"-->
                        <!--&gt;</a>-->
                        <!--<span-->
                                <!--data-ng-show="!item.column"-->
                                <!--data-ng-bind-html="item.title.toUpperCase()"-->
                        <!--&gt;</span>-->

                        <!--<i class="mdi"-->
                           <!--data-ng-show="sort.column == item.column"-->
                           <!--data-ng-class="{'mdi-chevron-down': !sort.direction, 'mdi-chevron-up': sort.direction}"-->
                        <!--&gt;</i>-->
                    <!--</th>-->
                    <!--<th width="250" class="no-wrap">-->
                        <!--API PLUGINS-->
                    <!--</th>-->
                    <!--<th class="no-wrap">-->
                        <!--CONSUMER PLUGINS-->

                    <!--</th>-->
                    <!--<td width="1"></td>-->
                <!--</tr>-->
                <!--<tr>-->
                    <!--<td></td>-->
                    <!--<td class="text-nowrap">-->
                        <!--<p class="text-muted text-small no-margin">-->
                            <!--API Plugins targeting all consumers-->
                        <!--</p>-->
                    <!--</td>-->
                    <!--<td class="text-nowrap">-->
                        <!--<p class="text-muted text-small no-margin">-->
                            <!--API Plugins targeting this consumer-->
                        <!--</p>-->
                    <!--</td>-->
                    <!--<td></td>-->
                <!--</tr>-->
                <!--<tr-->
                        <!--dir-paginate="api in items.data | orderBy:sort.column:sort.direction | filter : filters.searchWord | itemsPerPage: itemsPerPage as filteredItems">-->

                    <!--<td>-->
                        <!--<strong class="no-margin">-->
                            <!--{{ api.name || "-" }}-->
                        <!--</strong>-->
                        <!--<div class="clearfix"></div>-->
                        <!--<span class="label label-success" ng-if="isOpen(api)" uib-tooltip="This api is public. Anyone can consume it.">PUBLIC</span>-->
                        <!--<span class="label label-warning" ng-if="isAccessControlled(api)"-->
                              <!--uib-tooltip="This api is access controlled">AC</span>-->
                        <!--<span class="label label-danger" ng-if="needsAuth(api)"-->
                              <!--uib-tooltip="This api is secured with at least one authentication mechanism"-->
                        <!--&gt;SECURE</span>-->
                    <!--</td>-->

                    <!--<td>-->
                            <!--<span class="badge badge-api-plugin"-->
                                  <!--ng-class="{'badge-success badge-inverse' : item.enabled}"-->
                                  <!--ng-repeat="item in getGeneralPlugins(api)">-->
                                <!--{{item.name.toUpperCase().split("-").join(" ")}}-->
                            <!--</span>-->
                    <!--</td>-->
                    <!--<td>-->
                            <!--<span class="badge badge-api-plugin"-->
                                  <!--ng-class="{'badge-success badge-inverse' : item.enabled}"-->
                                  <!--ng-repeat="item in getConsumerPlugins(api)">-->
                                <!--<span class="text">{{item.name.toUpperCase().split("-").join(" ")}}</span>-->
                                <!--<raw-view data-item="item"></raw-view>-->
                                <!--<i class="mdi mdi-18px mdi-pencil clickable"-->
                                   <!--uib-tooltip="Edit"-->
                                   <!--ng-click="onEditPlugin(item)"></i>&nbsp;-->
                                <!--<i class="mdi mdi-18px mdi-delete clickable"-->
                                   <!--uib-tooltip="Delete"-->
                                   <!--ng-click="deletePlugin(api,item)"></i>-->

                            <!--</span>-->
                            <!--<button class="btn btn-sm btn-link" ng-click="onAddPlugin(api)">-->
                                <!--<i class="mdi mdi-18px mdi-plus"-->
                                <!--&gt;ADD PLUGINS</i>-->
                            <!--</button>-->
                    <!--</td>-->
                    <!--<td>-->
                        <!--<div class="btn-group" uib-dropdown is-open="status.isopen" dropdown-append-to-body="true">-->
                            <!--<button id="single-button" type="button" class="btn btn-primary btn-link" uib-dropdown-toggle>-->
                                <!--MORE... <span class="caret"></span>-->
                            <!--</button>-->
                            <!--<ul class="dropdown-menu animated fadeInUpShort go" uib-dropdown-menu role="menu" aria-labelledby="single-button">-->
                                <!--<li role="menuitem"><a href><raw-view data-item="api" data-text="'Raw View'"></raw-view></a></li>-->
                                <!--<li role="menuitem">-->
                                    <!--<a ui-sref="apis.edit({ api_id: api.id })">-->
                                        <!--<i class="mdi mdi-pencil"></i>&nbsp;&nbsp;-->
                                        <!--Edit API-->
                                    <!--</a>-->
                                <!--</li>-->

                                <!--&lt;!&ndash;<li role="menuitem"><a href="#">Something else here</a></li>&ndash;&gt;-->
                                <!--&lt;!&ndash;<li class="divider"></li>&ndash;&gt;-->
                                <!--&lt;!&ndash;<li role="menuitem"><a href="#">Separated link</a></li>&ndash;&gt;-->
                            <!--</ul>-->
                        <!--</div>-->
                    <!--</td>-->
                    <!--&lt;!&ndash;<td>&ndash;&gt;-->
                    <!--&lt;!&ndash;<a ui-sref="apis.edit({ api_id: api.id })" class="btn btn-default btn-link">&ndash;&gt;-->

                    <!--&lt;!&ndash;edit&ndash;&gt;-->
                    <!--&lt;!&ndash;</a>&ndash;&gt;-->
                    <!--&lt;!&ndash;</td>&ndash;&gt;-->
                <!--</tr>-->
            <!--</table>-->
        <!--</div>-->
        <!--<dir-pagination-controls class="pull-right"></dir-pagination-controls>-->
    <!--</div>-->
<!--</div>-->